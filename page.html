<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>No√´l üéÑ</title>

    <style>
        :root {
            --bg: #0b1d16;
            --accent: #c1121f;
            --text: #111;
            --locked: #bbb;
        }

        /* ---------- GLOBAL ---------- */
        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            background: linear-gradient(180deg, #0b1d16, #06130e);
            min-height: 100vh;
            font-family: system-ui, sans-serif;
            color: white;
            overflow-x: hidden;
        }

        h1 {
            text-align: center;
            margin: 1rem 0;
        }

        /* ---------- NEIGE ---------- */
        #snow {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 1;
        }

        /* ---------- LOCK ---------- */
        #lockscreen {
            display: flex;
            min-height: 100vh;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            gap: 1rem;
        }

        #lockscreen input {
            padding: 0.7rem;
            border-radius: 8px;
            border: none;
            width: 220px;
        }

        #lockscreen button {
            padding: 0.7rem 1.2rem;
            border-radius: 8px;
            border: none;
            background: var(--accent);
            color: white;
            cursor: pointer;
        }

        #error {
            color: #ff7b7b;
        }

        /* ---------- CONTENT ---------- */
        #content {
            display: none;
            position: relative;
            z-index: 2;
            padding: 1rem;
            max-width: 1100px;
            margin: auto;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
        }

        @media (min-width: 700px) {
            .grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        /* ---------- CARD ---------- */
        .card {
            perspective: 1200px;
        }

        .card.center {
            grid-column: span 2;
        }

        @media (min-width: 700px) {
            .card.center {
                grid-column: 2;
            }
        }

        .card-inner {
            width: 100%;
            aspect-ratio: 3 / 4;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.7s;
            cursor: pointer;
        }

        .card.flipped .card-inner {
            transform: rotateY(180deg);
        }

        .face {
            position: absolute;
            inset: 0;
            backface-visibility: hidden;
            border-radius: 16px;
            padding: 0.8rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* ---------- STYLE CARTE A JOUER ---------- */
        .front {
            background: white;
            color: var(--text);
            border: 2px solid #ddd;
        }

        .back {
            background: #f8f9fa;
            color: var(--text);
            transform: rotateY(180deg);
            text-align: center;
            line-height: 1.4;
            padding: 1.2rem;
        }

        /* Coins */
        .corner {
            position: absolute;
            font-size: 0.9rem;
        }

        .tl {
            top: 8px;
            left: 8px;
        }

        .tr {
            top: 8px;
            right: 8px;
        }

        .bl {
            bottom: 8px;
            left: 8px;
            transform: rotate(180deg);
        }

        .br {
            bottom: 8px;
            right: 8px;
            transform: rotate(180deg);
        }

        /* Centre */
        .center-icon {
            font-size: 3rem;
        }

        /* ---------- LOCKED ---------- */
        .locked .front {
            background: var(--locked);
            cursor: not-allowed;
        }

        .timer {
            position: absolute;
            bottom: 10px;
            font-size: 0.7rem;
            opacity: 0.7;
        }
    </style>
</head>

<body>

    <canvas id="snow"></canvas>

    <div id="lockscreen">
        <h1>üîí Acc√®s prot√©g√©</h1>
        <input type="password" id="password" placeholder="Mot de passe" />
        <button onclick="unlock()">Entrer</button>
        <div id="error"></div>
    </div>

    <div id="content">
        <h1>üéÑ Joyeux No√´l ‚ù§Ô∏è</h1>
        <div class="grid" id="cards"></div>
    </div>

    <script>
        /* ---------- CONFIG ---------- */
        const PASSWORD = "noel2025";
        const now = () => Date.now();

        /* ---------- CARDS ---------- */
        const cardsData = [
            {
                id: "plants",
                icon: "üå±",
                unlock: new Date(new Date().getFullYear(), 11, 25, 0, 0).getTime(),
                text: "Tu deviens une vraie pro des plantes üå±\n\nEn attendant d‚Äôavoir un chez nous pour cultiver √† deux, voici un pack sp√©cial Belgique.\nAttention : contr√¥les surprise possibles toute l‚Äôann√©e üòå"
            },
            {
                id: "fire",
                icon: "üî•",
                unlock: new Date(new Date().getFullYear(), 11, 29, 12, 30).getTime(),
                text: "Comme tu as toujours froid et que la saison s‚Äôy pr√™te, voici un plaid bien chaud.\n\nObjectif : survivre √† l‚Äôhiver sans grelotter üß£"
            },
            {
                id: "heart",
                icon: "‚ù§Ô∏è",
                unlock: 0,
                center: true,
                text: "Encore un site pour No√´l‚Ä¶\n\nMais quand on est loin, c‚Äôest plus simple comme √ßa.\nVoici 4 cartes pour teaser tes cadeaux.\n\nJe t‚Äôaime ‚ù§Ô∏è"
            },
            {
                id: "tools",
                icon: "üõ†Ô∏è",
                unlock: Infinity,
                text: "Pour occuper les longues soir√©es d‚Äôhiver.\n\nVersion papier pour s‚Äô√©chauffer avant les vraies plantes.\nSpoiler : les vraies, c‚Äôest plus dur üòè"
            },
            {
                id: "sheep",
                icon: "üêë",
                unlock: new Date(new Date().getFullYear(), 11, 29, 12, 30).getTime(),
                text: "Objectif 2026 : un pull en tricot üß∂\n\nJe fournis la mati√®re premi√®re.\nMaintenant, c‚Äôest √† toi de jouer."
            }
        ];

        /* ---------- LOCK ---------- */
        function unlock() {
            if (password.value === PASSWORD) {
                lockscreen.style.display = "none";
                content.style.display = "block";
                renderCards();
                setInterval(updateTimers, 1000);
                startSnow();
            } else {
                error.textContent = "Mot de passe incorrect.";
            }
        }

        /* ---------- RENDER ---------- */
        function renderCards() {
            cards.innerHTML = "";
            cardsData.forEach(c => {
                const locked = now() < c.unlock;

                const el = document.createElement("div");
                el.className = `card ${c.center ? "center" : ""} ${locked ? "locked" : ""}`;

                el.innerHTML = `
      <div class="card-inner">
        <div class="face front">
          <div class="corner tl">${c.icon}</div>
          <div class="corner tr">${c.icon}</div>
          <div class="center-icon">${c.icon}</div>
          <div class="corner bl">${c.icon}</div>
          <div class="corner br">${c.icon}</div>
          ${locked ? `<div class="timer" data-id="${c.id}"></div>` : ""}
        </div>
        <div class="face back">${c.text.replace(/\n/g, "<br>")}</div>
      </div>
    `;

                if (!locked) el.onclick = () => el.classList.toggle("flipped");
                cards.appendChild(el);
            });

            updateTimers();
        }

        /* ---------- TIMER ---------- */
        function updateTimers() {
            document.querySelectorAll(".timer").forEach(t => {
                const c = cardsData.find(x => x.id === t.dataset.id);
                const diff = c.unlock - now();
                if (diff <= 0) location.reload();
                if (c.unlock === Infinity) {
                    t.textContent = "Toujours verrouill√©";
                    return;
                }
                const d = Math.floor(diff / 86400000);
                const h = Math.floor(diff / 3600000) % 24;
                const m = Math.floor(diff / 60000) % 60;
                t.textContent = `D√©bloqu√© dans ${d}j ${h}h ${m}m`;
            });
        }

        /* ---------- NEIGE ---------- */
        function startSnow() {
            const canvas = document.getElementById("snow");
            const ctx = canvas.getContext("2d");
            const flakes = [];
            canvas.width = innerWidth;
            canvas.height = innerHeight;

            for (let i = 0; i < 120; i++) flakes.push({
                x: Math.random() * canvas.width,
                y: Math.random() * canvas.height,
                r: Math.random() * 2 + 1,
                v: Math.random() * 1 + 0.5
            });

            function draw() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                ctx.fillStyle = "white";
                flakes.forEach(f => {
                    ctx.beginPath();
                    ctx.arc(f.x, f.y, f.r, 0, Math.PI * 2);
                    ctx.fill();
                    f.y += f.v;
                    if (f.y > canvas.height) f.y = 0;
                });
                requestAnimationFrame(draw);
            }
            draw();
        }

        window.onresize = () => {
            snow.width = innerWidth;
            snow.height = innerHeight;
        };
    </script>

</body>

</html>